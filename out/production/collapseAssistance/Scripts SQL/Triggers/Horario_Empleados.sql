USE CollapseAssistance;

DELIMITER ||

DROP TRIGGER IF EXISTS TRIGGER_BEFORE_INSERT_Horario_Empleados ||
CREATE TRIGGER TRIGGER_BEFORE_INSERT_Horario_Empleados BEFORE INSERT ON Horario_Empleados
FOR EACH ROW
BEGIN
SET NEW.Inserto_Usuario = SUBSTRING(CURRENT_USER(),1,10);
SET NEW.Fecha_Insercion = CURRENT_DATE();
END

||

DELIMITER ||

DROP TRIGGER IF EXISTS TRIGGER_BEFORE_UPDATE_Horario_Empleados ||
CREATE TRIGGER TRIGGER_BEFORE_UPDATE_Horario_Empleados BEFORE UPDATE ON Horario_Empleados
FOR EACH ROW
BEGIN
SET NEW.Modifico_Usuario = SUBSTRING(CURRENT_USER(),1,10);
SET NEW.Fecha_Modificacion = CURRENT_DATE();
END

||
